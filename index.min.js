function start(){dotValue=!1,op="none",operation=!1,stop=!1,countequal=0,equalop="none",oriNo=0,oriDiv=0,memoryShown=!1,blink(),$("#addMinus").css("opacity",.08),$("#error").css("opacity",.08),$("#display").html("0<span class='dotSmaller'>.</span>")}function blink(){$("#displayOn").css("visibility","hidden"),$("#display").css("color","rgba(0,0,0,0)"),$("#memory").css("visibility","hidden"),$("#addMinus").css("visibility","hidden"),$("#error").css("visibility","hidden"),setTimeout(function(){$("#displayOn").css("visibility","visible"),$("#display").css("color","rgba(0,0,0,100)"),$("#memory").css("visibility","visible"),$("#addMinus").css("visibility","visible"),$("#error").css("visibility","visible")},10)}function displayNumber(o){memoryShown=!1,"visible"===$("#displayOn").css("visibility")&&("none"!==equalop&&(equalop="none",op="none",no1=0,no2=0),"1"===$("#error").css("opacity")?(blink(),operation=!0,stop=!0):(operation=!1,stop?($("#addMinus").css("opacity",.08),dotValue=!1,$("#display").text(o),stop=!1):$("#display").text().replace(/\D/g,"").length<8&&(dotValue?$("#display").text($("#display").text()+o):$("#display").text(10*parseFloat($("#display").text())+o))))}$(".alert").prop("scrollHeight")>document.body.scrollHeight&&$(".alert").css("height","100%"),$("#icon").click(function(){console.log(1),alert("ùóûùó≤ùòÜùóØùóºùóÆùóøùó± ùó¶ùóµùóºùóøùòÅùó∞ùòÇùòÅ\nKey            | Value\nEnter / Esc | On\nBackspace | Cl\nm              | M+\nShift + m  | M-\nr                | RM / CM\n0               | 0\n1               | 1\n2               | 2\n3               | 3\n4               | 4\n5               | 5\n6               | 6\n7               | 7\n8               | 8\n9               | 9\n.                | .\n,                | ¬±‚áå\n+              | +\n-               | -\n* / x          | √ó\n/               | √∑\nEnter        | =")}),$("#on").click(function(){start(),no1=0,no2=0}),$("#cl").click(function(){"visible"===$("#displayOn").css("visibility")&&start()}),$("#0, #1, #2, #3, #4, #5, #6, #7, #8, #9").each(function(){$(this).click(function(){displayNumber(parseFloat($(this)[0].name))})});var closeTimer,dotValue=!1;function close(){closeTimer=setTimeout(function(){no1=0,no2=0,dotValue=!1,op="none",operation=!1,stop=!1,countequal=0,equalop="none",oriNo=0,oriDiv=0,memory=0,memoryShown=!1,$("#displayOn").css("visibility","hidden"),$("#display").css("color","rgba(0,0,0,0)"),$("#memory").css("visibility","hidden"),$("#addMinus").css("visibility","hidden"),$("#error").css("visibility","hidden")},42e4)}$("#dot").click(function(){memoryShown=!1,"1"===$("#error").css("opacity")?(blink(),stop=!0,operation=!0):(dotValue||(dotValue=!0),stop&&($("#display").html("0<span class='dotSmaller'>.</span>"),stop=!1))}),close(),$("button").click(function(){switch($(this)[0].name){case"1":play(261.63);break;case"2":play(293.66);break;case"3":play(329.63);break;case"4":play(349.23);break;case"5":play(392);break;case"6":play(440);break;case"7":play(493.88);break;case"8":play(523.25);break;case"9":case"9":play(587.33);break;case"add":play(659.25);break;case"sub":play(698.46);break;case"times":play(783.99);break;case"divide":play(880);break;case"equal":play(987.77)}clearTimeout(closeTimer),close(),"visible"===$("#displayOn").css("visibility")&&("1"===$("#error").css("opacity")?(blink(),operation=!0,stop=!0):setTimeout(function(){if(blink(),dotValue?$("#display").html($("#display").text().split(".")[0]+"<span class='dotSmaller'>.</span>"+$("#display").text().split(".")[1]):"1"===$("#error").css("opacity")?0!==no1?$("#display").html($("#display").text().split(".")[0]+"<span class='dotSmaller'>.</span>"+parseFloat($("#display").text()).toFixed(7).toString().split(".")[1]):$("#display").html("0<span class='dotSmaller'>.</span>"):$("#display").html(parseFloat($("#display").text())+"<span class='dotSmaller'>.</span>"),-1!==$("#display").text().search("1"))for(let o=$("#display").html().toString().length;o>0;o--)"1"===$("#display").html().toString()[o]&&$("#display").html($("#display").html().toString().slice(0,o)+"<span class='oneLarger'>1</span>"+$("#display").html().toString().slice(o+1,$("#display").html().toString().length))},12))}),$("#sign").click(function(){memoryShown=!1,"1"!==$("#addMinus").css("opacity")?($("#addMinus").css("opacity",1),operation?no2=-parseFloat($("#display").text()):no1=-parseFloat($("#display").text())):($("#addMinus").css("opacity",.08),operation?no2=parseFloat($("#display").text()):no1=parseFloat($("#display").text()))});var no1=0,no2=0,op="none",operation=!1,stop=!1;$("#add").click(function(){countequal=0,calc("add")}),$("#sub").click(function(){countequal=0,calc("sub")}),$("#times").click(function(){countequal=0,calc("times")}),$("#divide").click(function(){countequal=0,calc("divide")}),$("#sqrt").click(function(){countequal=0,$("#display").text(Math.sqrt(parseFloat($("#display").text()))),$("#display").text().replace(/\D/g,"").length>8&&$("#display").text(Math.floor(1e7*parseFloat($("#display").text()))/1e7),-1!==$("#display").text().search("e-")&&$("#display").text(parseFloat($("#display").text()).toFixed($("#display").text().split("e-")[1])),no2=parseFloat($("#display").text())});var countequal=0,equalop="none",oriNo=0,oriDiv=0;function calc(o,i=0){if(memoryShown=!1,"visible"===$("#displayOn").css("visibility")){switch(operation?(no2=0,op=o):(no2="1"===$("#addMinus").css("opacity")?-parseFloat($("#display").text()):parseFloat($("#display").text()),stop=!0),0!==i&&(no2=i),no1=parseFloat(no1),op){case"add":"percent"===o?($("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" + "+Math.floor(1e9*no1.toFixed(7))/1e9+" √ó "+no2/100+" = "+Math.floor(1e9*(no1+no1*no2/100).toFixed(7))/1e9+"<br/>"),no1+=no1*no2/100):($("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" + "+Math.floor(1e9*no2.toFixed(7))/1e9+" = "+Math.floor(1e9*(no1+no2).toFixed(7))/1e9+"<br/>"),no1+=no2);break;case"sub":"percent"===o?($("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" - "+Math.floor(1e9*no1.toFixed(7))/1e9+" √ó "+Math.floor(1e9*no2.toFixed(7))/1e9/100+" = "+Math.floor(1e9*(no1-no1*no2/100).toFixed(7))/1e9+"<br/>"),no1-=no1*no2/100):($("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" - "+Math.floor(1e9*no2.toFixed(7))/1e9+" = "+Math.floor(1e9*(no1-no2).toFixed(7))/1e9+"<br/>"),no1-=no2);break;case"times":"percent"===o?($("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" √ó "+Math.floor(1e9*no2.toFixed(7))/1e9/100+" = "+Math.floor(1e9*(no1*no2/100).toFixed(7))/1e9+"<br/>"),no1*=no2/100):(0===no2&&(no2=1),$("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" √ó "+Math.floor(1e9*no2.toFixed(7))/1e9+" = "+Math.floor(1e9*(no1*no2).toFixed(7))/1e9+"<br/>"),no1=Math.floor(1e9*(no1*no2).toFixed(7))/1e9);break;case"divide":"percent"===o?($("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" √∑ "+Math.floor(1e9*no2.toFixed(7))/1e9/100+" = "+Math.floor(1e9*(no1/(no2/100)).toFixed(7))/1e9+"<br/>"),no1/=no2/100):0===no2?(no1=0,$("#error").css("opacity",1)):($("#historyLine").html($("#historyLine").html()+Math.floor(1e9*no1.toFixed(7))/1e9+" √∑ "+Math.floor(1e9*no2.toFixed(7))/1e9+" = "+Math.floor(1e9*(no1/no2).toFixed(7))/1e9+"<br/>"),no1/=no2);break;case"percent":"times"===equalop&&calc(equalop,no2/100),"divide"===equalop&&calc(equalop,oriDiv/100);break;default:no1+=no2}if(no1.toString().replace(/\D/g,"").length>8&&(no1=Math.floor(1e7*no1)/1e7),-1!==no1.toString().search(/\./))for(let o=no1.toString().split(".")[1].length;o>=0;o--)no1.toString().replace(/\D/g,"").length>8&&(no1=Math.floor(no1*Math.pow(10,o))/Math.pow(10,o));no1.toString().replace(/\D/g,"").length>8&&($("#error").css("opacity",1),0!==no1&&(no1=parseFloat(no1.toString()[0]+"."+no1.toString().substring(1,8)).toFixed(7))),$("#display").text(no1),op=o,operation=!0,stop=!0,-1!==no1.toString().search("e-")&&(no1=no1.toFixed(no1.toString().split("e-")[1])),dotValue=parseFloat(no1)!==parseInt(no1),no1<0?($("#display").text(-no1),$("#addMinus").css("opacity",1)):($("#display").text(no1),$("#addMinus").css("opacity",.08))}}$("#equal").click(function(){"percent"===op?(calc(equalop,oriNo),countequal++):(0===countequal&&(oriNo="1"===$("#addMinus").css("opacity")?-parseFloat($("#display").text()):parseFloat($("#display").text()),equalop=op,stop=!0,"divide"===op&&!0===operation&&calc(equalop,oriNo)),"none"!==op&&(calc(equalop,oriNo),countequal++))}),$("#percent").click(function(){countequal=0,!1===operation?(oriNo=no2,oriDiv="1"===$("#addMinus").css("opacity")?-parseFloat($("#display").text()):parseFloat($("#display").text()),equalop=op,stop=!0,"1"===$("#addMinus").css("opacity")?calc("percent",-parseFloat($("#display").text())):calc("percent",parseFloat($("#display").text()))):"times"!==equalop&&"divide"!==equalop||calc("percent",oriNo)});var memory=0,memoryShown=!1;function play(o=0){setTimeout(function(){"visible"===$("#displayOn").css("visibility")&&(audioCtx=new window.AudioContext,oscillator=audioCtx.createOscillator(),oscillator.type="square",oscillator.frequency.setValueAtTime(o,audioCtx.currentTime),oscillator.connect(audioCtx.destination),oscillator.start(),oscillator.stop(audioCtx.currentTime+.3))},12)}$("#mAdd").click(function(){"visible"===$("#displayOn").css("visibility")&&("1"===$("#addMinus").css("opacity")?(memory+=-parseFloat($("#display").text()),0!==parseFloat($("#display").text())&&$("#historyLine").html($("#historyLine").html()+-parseFloat($("#display").text())+" M+ = "+memory+"<br/>")):(memory+=parseFloat($("#display").text()),0!==parseFloat($("#display").text())&&$("#historyLine").html($("#historyLine").html()+parseFloat($("#display").text())+" M+ = "+memory+"<br/>")),0!==memory?$("#memory").css("opacity",1):($("#memory").css("opacity",.08),$("#display").text("0"),$("#addMinus").css("opacity",.08)),stop=!0)}),$("#mSub").click(function(){"visible"===$("#displayOn").css("visibility")&&("1"===$("#addMinus").css("opacity")?(0===memory?memory=parseFloat($("#display").text()):memory-=-parseFloat($("#display").text()),0!==parseFloat($("#display").text())&&$("#historyLine").html($("#historyLine").html()+-parseFloat($("#display").text())+" M- = "+memory+"<br/>")):(0===memory?memory=parseFloat($("#display").text()):memory-=parseFloat($("#display").text()),0!==parseFloat($("#display").text())&&$("#historyLine").html($("#historyLine").html()+parseFloat($("#display").text())+" M- = "+memory+"<br/>")),0!==memory?$("#memory").css("opacity",1):($("#memory").css("opacity",.08),$("#display").text("0"),$("#addMinus").css("opacity",.08)),stop=!0)}),$("#rm").click(function(){"visible"===$("#displayOn").css("visibility")&&(memoryShown?($("#memory").css("opacity",.08),memory=0):(memory<0?($("#display").text(-memory),$("#addMinus").css("opacity",1)):($("#display").text(memory),$("#addMinus").css("opacity",.08)),memoryShown=!0),$("#historyLine").html($("#historyLine").html()+"M = "+memory+"<br/>"))}),$(document).keydown(function(o){"visible"===$("#displayOn").css("visibility")?("Escape"===o.key&&$("#on").click(),"Backspace"===o.key&&$("#cl").click(),"0"===o.key&&$("#0").click(),"1"===o.key&&$("#1").click(),"2"===o.key&&$("#2").click(),"3"===o.key&&$("#3").click(),"4"===o.key&&$("#4").click(),"5"===o.key&&$("#5").click(),"6"===o.key&&$("#6").click(),"7"===o.key&&$("#7").click(),"8"===o.key&&$("#8").click(),"9"===o.key&&$("#9").click(),"."===o.key&&$("#dot").click(),","===o.key&&$("#sign").click(),"+"===o.key&&$("#add").click(),"-"===o.key&&$("#sub").click(),"*"!==o.key&&"x"!==o.key||$("#times").click(),"/"===o.key&&$("#divide").click(),"="!==o.key&&"Enter"!==o.key||$("#equal").click(),"s"===o.key&&$("#sqrt").click(),"%"===o.key&&$("#percent").click(),"m"===o.key&&$("#mAdd").click(),"M"===o.key&&$("#mSub").click(),"r"===o.key&&$("#rm").click()):"Escape"!==o.key&&"Enter"!==o.key||$("#on").click()}),$("#historyLine").bind("DOMSubtreeModified",function(){$("#historyLine").prop("scrollHeight")>0&&$("#historyLine").scrollTop($("#historyLine").prop("scrollHeight"))});var scrollTop=0;$(document).scroll(function(){$(document).scrollTop()!==scrollTop&&($(".navbar").css("visibility","hidden"),scrollTop=$(document).scrollTop(),setTimeout(function(){$(".navbar").css("visibility","visible")},100))});
